/*If you are editing this file then you either found a bug or are adding a feature, ask Michael for the un-minified version and share the fix or addition. - cmb - 12.2018*/

var LegalTextbox=function(){"use strict";var a,s,T,g,d,u,p,l,o,t,c,f,E,x,v,m,h,n,e="1.0.15",y="uninitiated",H={},w="",i=new Array,r="11px 0px";H.autoscrollDelay=1,H.scrollType="time",H.scrollTime=15,H.scrollSpeed=12,H.version=e;var L={set interrupt(e){if(o!=e&&(o=e,_(),1==e&&"scrolling"==y)){y="stopped";var t=new U("LEGALTEXT_AUTOSCROLL_INTERRUPTED");m.dispatchEvent(t)}"overlay"==p&&(O(0,.5),X())},get interrupt(){return o},get version(){return e},set interact(e){t=e},get interact(){return t},get autoscrollStatus(){return y}};function M(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var l in e)t[l]=M(e[l]);return t}function A(){var e=m.offsetHeight-(null===getElem("legalTextHeader")?0:getElem("legalTextHeader").offsetHeight)-(null===getElem("legalTextFooter")?0:getElem("legalTextFooter").offsetHeight);e!=legalTextTextHolder.offsetHeight&&TweenMax.set(legalTextTextHolder,{height:e,top:getElem("legalTextHeader").offsetHeight})}function C(){H.jumpToStart(0,.125),L.interrupt=!1;var e=new U("LEGALTEXT_RESIZE_COMPLETED");m.dispatchEvent(e)}function b(){TweenMax.set(getElem("legalTextTextHolder"),{scrollTo:{y:0,autoKill:!0}}),"overlay"==p&&(O(),X()),L.interrupt=!1}function O(e,t){if("overlay"==p){e=e||0,t=t||0;TweenMax.to(getElem("legalTextOverlayHolder"),t,{delay:e,autoAlpha:0})}}function S(){if(1==L.interrupt)_();else{y="scrolling";var e=new U("LEGALTEXT_AUTOSCROLL_START");m.dispatchEvent(e)}}function _(){clearTimeout(h),E&&E.kill(),E=void 0,"inline"==p&&X()}function P(){if(0==L.interrupt){E=void 0,y="completed";var e=new U("LEGALTEXT_AUTOSCROLL_COMPLETE");m.dispatchEvent(e),"overlay"==p&&(TweenMax.set(getElem("legalTextOverlayHolder"),{width:getElem("legalTextTextHolder").offsetWidth-G()}),TweenMax.set(getElem("legalTextOverlayHolder"),{top:x-getElem("legalTextOverlayHolder").offsetHeight+v}),TweenMax.to(getElem("legalTextOverlayHolder"),1,{autoAlpha:1}),X())}}function R(){if(0<i.length){var e=i[0].getBoundingClientRect();if(e.top+e.height<n.top+n.height){var t=new U("LEGALTEXT_CUEPOINT",{detail:{id:i[0].id||"one"}});m.dispatchEvent(t),i.shift()}}}function G(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var l=document.createElement("div");l.style.width="100%",e.appendChild(l);var o=l.offsetWidth;return e.parentNode.removeChild(e),t-o}function U(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var l=document.createEvent("CustomEvent");return l.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),l}function X(e){null!=getElem("stop")&&(getElem("stop").innerHTML=null==e?"":"&nbsp;",TweenMax.set(getElem("stop"),{margin:0}))}function I(){null!=getElem("stop")&&(getElem("stop").innerHTML='<span id="legalTextInlineHolder">'+w+"</span>",TweenMax.set(getElem("stop"),{margin:r}))}return H.init=function(e){m=e},H.setContent=function(e,t){L.interrupt=!0,L.interact=!1,a=e.id,s=e.header,T=e.footer,g=e.body,d=e.css,p=e.stopStyle,w=e.stopText,u=t,function(){m.innerHTML="<style>"+d+"</style>",m.setAttribute("style","-webkit-perspective:1;perspective:1;");var e=window.getComputedStyle(m);c=e.getPropertyValue("background-color"),f=e.getPropertyValue("padding-top")+" "+e.getPropertyValue("padding-right")+" "+e.getPropertyValue("padding-bottom")+" "+e.getPropertyValue("padding-left"),TweenMax.set(getElem("legalText"),{padding:"0px"});var t,l=m.clientWidth,o=m.clientHeight,n=0;null!=s&&(r='<div id="legalTextHeader" style="opacity: 1; width:100%; position: absolute;"><div id="legalTextHeaderText">'+s+"</div></div>",m.innerHTML+=r,(t=getElem("legalTextHeaderText")).style.opacity="1",t.style.boxSizing="borderBox",t.style.position="relative",o-=getElem("legalTextHeader").offsetHeight,n=getElem("legalTextHeader").offsetHeight);null!=T&&(r='<div id="legalTextFooter" style="opacity: 1; width:100%; position: absolute;bottom:0px;"><div id="legalTextFooterText">'+T+"</div></div>",m.innerHTML+=r,(t=getElem("legalTextFooterText")).style.opacity="1",t.style.boxSizing="borderBox",t.style.position="relative",o-=getElem("legalTextFooter").offsetHeight);r='<div id="legalTextTextHolder" style="top:'+n+"px; width: "+l+"px; height: "+o+"px; overflow-x: hidden; overflow-y: auto; opacity: 1;background-color:"+c+';">',r+='<div id="legalTextTextCopy" style="opacity: 1;  white-space: normal; padding:'+f+';"><span class="'+a+'">'+g+"</span></div>",r+='</div">',m.innerHTML+=r,null!=u&&getElem("epass")&&(getElem("epass").innerHTML=u);if("overlay"==p){var i=l-G(),r="";r='<div id="legalTextOverlayHolder" style="opacity: 0; white-space: normal; width:'+i+'px;">'+w+"</div>",m.innerHTML+=r,O(),X()}else"inline"==p?I():X()}(),function(){if(getElem("legalTextTextHolder").addEventListener("mousedown",H.interruptAutoscroll),getElem("legalTextTextHolder").addEventListener("wheel",H.interruptAutoscroll),getElem("legalTextTextHolder").addEventListener("touchmove",H.interruptAutoscroll),getElem("legalTextTextHolder").addEventListener("scroll",R),"undefined"!=typeof exitHandler)for(var e=[],t=getElem("legalText").getElementsByTagName("a"),l=0;l<t.length;l++)e.push(t[l].id),0<=t[l].href.indexOf("foo()")&&window[e[l]].addEventListener("click",exitHandler)}(),L.interrupt=!1,l=0,setTimeout(function(){H.jumpToStart(),y="ready";var e=new U("LEGALTEXT_READY",{detail:{version:L.version}});m.dispatchEvent(e)},250)},H.setInterrupted=function(e){L.interrupt=e},H.wasInterrupted=function(){return L.interrupt},H.reset=function(){b()},H.getAutoscrollStatus=function(){return L.autoscrollStatus},H.resize=function(e,t){t=t||0;L.interrupt=!0;var l=M(e),o=M(e),n=null===getElem("legalTextHeader")?0:getElem("legalTextHeader").offsetHeight,i=null===getElem("legalTextFooter")?0:getElem("legalTextFooter").offsetHeight;null!=l.width&&(o.onUpdate=A,o.left=0),null!=l.height&&(o.height=l.height-n-i),null!=l.top&&(o.top=n),o.onComplete=C,TweenMax.to(getElem("legalText"),t,l),TweenMax.to(getElem("legalTextTextHolder"),t,o)},H.resetCuepoints=function(){var e=document.querySelectorAll("span[type=cuepoint]");i=new Array;for(var t=0;t<e.length;t++)i.push(e[t]);n=getElem("legalTextTextHolder").getBoundingClientRect()},H.jumpToTop=function(e,t){e=e||0,t=t||0;TweenMax.to(getElem("legalTextTextHolder"),t,{delay:e,scrollTo:{y:0,autoKill:!0},ease:Linear.easeNone}),setTimeout(function(){y="ready";var e=new U("LEGALTEXT_JUMP_TO_TOP_COMPLETE");m.dispatchEvent(e),b()},1e3*(e+t))},H.jumpToStart=function(e,t){null!=getElem("start")&&(l=getElem("start").offsetTop-2);e=e||0,t=t||0;TweenMax.to(getElem("legalTextTextHolder"),t,{delay:e,scrollTo:{y:l,autoKill:!0},ease:Linear.easeNone}),setTimeout(function(){y="ready";var e=new U("LEGALTEXT_JUMP_TO_START_COMPLETE");m.dispatchEvent(e),O(0,t)},1e3*(e+t))},H.autoscroll=function(){if(0==L.interrupt){y="paused",H.resetCuepoints(),"inline"==p?I():"overlay"==p&&X(!0);var e,t,l=getElem("stop");if(v=getElem("legalTextTextHolder").offsetTop,x=getElem("legalTextTextHolder").offsetHeight,null!=l)if(null==p||"bottom"==p)e=getElem("legalTextTextCopy").offsetHeight-x;else if("inline"==p)e=l.offsetTop-x+l.offsetHeight;else{e=l.offsetTop-x+getElem("legalTextOverlayHolder").clientHeight+l.offsetHeight;var o=window.getComputedStyle(l);e-=2*parseInt(o.getPropertyValue("line-height"))}else e=getElem("legalTextTextCopy").offsetHeight-x;var n=getElem("start")?getElem("start").offsetTop:0,i="bottom"!=p&&getElem("stop")?getElem("stop").offsetTop:getElem("legalTextTextCopy").offsetHeight;if(i-n<x){L.interrupt=!0,_(),y="unecessary";var r=new U("LEGALTEXT_AUTOSCROLL_ABORTED");m.dispatchEvent(r)}if("speed"==this.scrollType)t=(i-n-x)/this.scrollSpeed;else t=this.scrollTime;E=TweenMax.to(getElem("legalTextTextHolder"),t,{onStart:S,delay:this.autoscrollDelay,scrollTo:{y:e,autoKill:!0},ease:Linear.easeNone,onComplete:P}),0<this.scrollMaxTime&&(clearTimeout(h),h=setTimeout(function(){E&&(TweenMax.killTweensOf(legalTextTextHolder),E.vars.onComplete())},1e3*(this.scrollMaxTime+this.autoscrollDelay)))}},H.interruptAutoscroll=function(){if(0==L.interrupt){"inline"==p&&X(),L.interrupt=!0,L.interact=!0;var e=new U("LEGALTEXT_USER_INTERACTION");m.dispatchEvent(e)}},U.prototype=window.Event.prototype,window.CustomEvent=U,H}();